{"name":"Capifony-cpanel","tagline":"deploy.rb and cap file needed to deploy a symfony 2 application to a cPanel server","body":"# Capifony cPanel\r\n\r\nThis is an example deploy.rb that I needed to create when deploying a Symfony2 application to a server running cPanel. Follow the step by step guide and you should be up and running.\r\n\r\n## Install CapifonyÂ \r\n\r\n```\r\ngem install capifony\r\n```\r\n\r\nNavigate into your project and run the following command.\r\n\r\n```\r\ncd path/to/your/project\r\ncapifony .\r\n```\r\n\r\nReplace the contents of the generated deploy.rb with the one from the repo. **Remember to change the boilerplate sections to relate to your needs**\r\n\r\nadd the following to the Capfile in the root of your project\r\n\r\n```\r\ndefault_run_options[:pty] = true\r\n```\r\n\r\n## Remove Incenteev Composer Parameter Handler\r\n\r\nRemove the following lines from the composer.json file.\r\n\r\n```\r\n\"incenteev/composer-parameter-handler\": \"~2.0\"\r\n```\r\n```\r\n\"Incenteev\\\\ParameterHandler\\\\ScriptHandler::buildParameters\",\r\n```\r\n```\r\n\"Incenteev\\\\ParameterHandler\\\\ScriptHandler::buildParameters\",\r\n```\r\n```\r\n\"incenteev-parameters\": {\r\n    \"file\": \"app/config/parameters.yml\"\r\n},\r\n```\r\n\r\n## Setup\r\n\r\nRun the following commands\r\n\r\n```\r\ncap deploy:setup\r\n```\r\n\r\nLog into the server and copy a already configured parameters.yml or use the one provided in this repo to \r\n```\r\nshared/app/config\r\n```\r\n*you may need to create this directory structure*. Customise the parameters.yml file as needed.\r\n\r\nYour should now be ready to start your first deployment. you should run the following command the first time.\r\n\r\n```\r\ncap deploy:cold\r\n```\r\n\r\non subsequent deployments the following command should be used.\r\n\r\n```\r\ncap deploy\r\n```\r\n\r\n## Cleaning Up\r\n\r\nOnce your files are on the server you need to symlink\r\n\r\n**my-app/current/web to public_html**\r\n\r\n```\r\nln -s my-app/current/web public_html\r\n```\r\n\r\n## Useful Links\r\n\r\n- [Capifony Website](http://capifony.org/)\r\n- [Capistrano Github](https://github.com/capistrano/capistrano)\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}